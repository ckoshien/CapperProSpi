(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3622)}])},3622:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eo},fetcher:function(){return es}});var r=n(5893),i=n(7294),a=n(1688);let l=new WeakMap,o={},s=()=>{},u=s(),d=Object,c=e=>e===u,f=e=>"function"==typeof e,g=(e,t)=>({...e,...t}),h="undefined",p=typeof window!=h,w=typeof document!=h,v=()=>p&&typeof window.requestAnimationFrame!=h,m=(e,t)=>{let n=l.get(e);return[()=>e.get(t)||o,r=>{let i=e.get(t);n[5](t,g(i,r),i||o)},n[6]]},y=new WeakMap,x=0,b=e=>{let t,n;let r=typeof e,i=e&&e.constructor,a=i==Date;if(d(e)!==e||a||i==RegExp)t=a?e.toJSON():"symbol"==r?e.toString():"string"==r?JSON.stringify(e):""+e;else{if(t=y.get(e))return t;if(t=++x+"~",y.set(e,t),i==Array){for(n=0,t="@";n<e.length;n++)t+=b(e[n])+",";y.set(e,t)}if(i==d){t="#";let l=d.keys(e).sort();for(;!c(n=l.pop());)c(e[n])||(t+=n+":"+b(e[n])+",");y.set(e,t)}}return t},E=!0,[_,j]=p&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[s,s],S=()=>{let e=w&&document.visibilityState;return c(e)||"hidden"!==e},O=e=>(w&&document.addEventListener("visibilitychange",e),_("focus",e),()=>{w&&document.removeEventListener("visibilitychange",e),j("focus",e)}),k=e=>{let t=()=>{E=!0,e()},n=()=>{E=!1};return _("online",t),_("offline",n),()=>{j("online",t),j("offline",n)}},T={initFocus:O,initReconnect:k},C=!i.useId,R=!p||"Deno"in window,L=e=>v()?window.requestAnimationFrame(e):setTimeout(e,1),V=R?i.useEffect:i.useLayoutEffect,N="undefined"!=typeof navigator&&navigator.connection,A=!R&&N&&(["slow-2g","2g"].includes(N.effectiveType)||N.saveData),P=e=>{if(f(e))try{e=e()}catch(t){e=""}let n=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?b(e):"",n]},D=0,F=()=>++D;var W={__proto__:null,FOCUS_EVENT:0,RECONNECT_EVENT:1,MUTATE_EVENT:2};async function M(...e){let[t,n,r,i]=e,a=g({populateCache:!0,throwOnError:!0},"boolean"==typeof i?{revalidate:i}:i||{}),o=a.populateCache,s=a.rollbackOnError,d=a.optimisticData,h=!1!==a.revalidate,p=e=>"function"==typeof s?s(e):!1!==s,w=a.throwOnError;if(f(n)){let v=[],y=t.keys();for(let x=y.next();!x.done;x=y.next()){let b=x.value;!b.startsWith("$inf$")&&n(t.get(b)._k)&&v.push(b)}return Promise.all(v.map(E))}return E(n);async function E(n){let i;let[a]=P(n);if(!a)return;let[s,g]=m(t,a),[v,y,x]=l.get(t),b=v[a],E=()=>h&&(delete x[a],b&&b[0])?b[0](2).then(()=>s().data):s().data;if(e.length<3)return E();let _=r,j=F();y[a]=[j,0];let S=!c(d),O=s(),k=O.data,T=O._c,C=c(T)?k:T;if(S&&g({data:d=f(d)?d(C):d,_c:C}),f(_))try{_=_(C)}catch(R){i=R}if(_&&f(_.then)){if(_=await _.catch(e=>{i=e}),j!==y[a][0]){if(i)throw i;return _}i&&S&&p(i)&&(o=!0,_=C,g({data:_,_c:u}))}o&&!i&&(f(o)&&(_=o(_,C)),g({data:_,_c:u})),y[a][1]=F();let L=await E();if(g({_c:u}),i){if(w)throw i;return}return o?L:_}}let I=(e,t)=>{for(let n in e)e[n][0]&&e[n][0](t)},B=(e,t)=>{if(!l.has(e)){let n=g(T,t),r={},i=M.bind(u,e),a=s,o={},d=(e,t)=>{let n=o[e]||[];return o[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},c=(t,n,r)=>{e.set(t,n);let i=o[t];if(i)for(let a=i.length;a--;)i[a](r,n)},f=()=>{if(!l.has(e)&&(l.set(e,[r,{},{},{},i,c,d]),!R)){let t=n.initFocus(setTimeout.bind(u,I.bind(u,r,0))),o=n.initReconnect(setTimeout.bind(u,I.bind(u,r,1)));a=()=>{t&&t(),o&&o(),l.delete(e)}}};return f(),[e,i,f,a]}return[e,l.get(e)[4]]},U=(e,t,n,r,i)=>{let a=n.errorRetryCount,l=i.retryCount,o=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;(c(a)||!(l>a))&&setTimeout(r,o,i)},q=(e,t)=>b(e)==b(t),[z,H]=B(new Map),X=g({onLoadingSlow:s,onSuccess:s,onError:s,onErrorRetry:U,onDiscarded:s,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:A?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:A?5e3:3e3,compare:q,isPaused:()=>!1,cache:z,mutate:H,fallback:{}},{isOnline:()=>E,isVisible:S}),G=(e,t)=>{let n=g(e,t);if(t){let{use:r,fallback:i}=e,{use:a,fallback:l}=t;r&&a&&(n.use=r.concat(a)),i&&l&&(n.fallback=g(i,l))}return n},J=(0,i.createContext)({}),$=e=>{let{value:t}=e,n=(0,i.useContext)(J),r=f(t),a=(0,i.useMemo)(()=>r?t(n):t,[r,n,t]),l=(0,i.useMemo)(()=>r?a:G(n,a),[r,n,a]),o=a&&a.provider,[s]=(0,i.useState)(()=>o?B(o(l.cache||z),a):u);return s&&(l.cache=s[0],l.mutate=s[1]),V(()=>{if(s)return s[2]&&s[2](),s[3]},[]),(0,i.createElement)(J.Provider,g(e,{value:l}))},Y=p&&window.__SWR_DEVTOOLS_USE__,K=Y?window.__SWR_DEVTOOLS_USE__:[],Q=e=>f(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],Z=()=>g(X,(0,i.useContext)(J)),ee=e=>(t,n,r)=>{let i=n&&((...e)=>{let r=P(t)[0],[,,,i]=l.get(z),a=i[r];return a?(delete i[r],a):n(...e)});return e(t,i,r)},et=K.concat(ee),en=(e,t,n)=>{let r=t[e]||(t[e]=[]);return r.push(n),()=>{let e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}};Y&&(window.__SWR_DEVTOOLS_REACT__=i);let er={dedupe:!0},ei=(e,t,n)=>{let{cache:r,compare:o,suspense:s,fallbackData:d,revalidateOnMount:h,refreshInterval:p,refreshWhenHidden:w,refreshWhenOffline:v,keepPreviousData:y}=n,[x,b,E]=l.get(r),[_,j]=P(e),S=(0,i.useRef)(!1),O=(0,i.useRef)(!1),k=(0,i.useRef)(_),T=(0,i.useRef)(t),N=(0,i.useRef)(n),A=()=>N.current,D=()=>A().isVisible()&&A().isOnline(),[I,B,U]=m(r,_),q=(0,i.useRef)({}).current,z=c(d)?n.fallback[_]:d,H=(e,t)=>{let n=!0;for(let r in q){let i=r;o(t[i],e[i])||"data"===i&&c(e[i])&&o(t[i],Z)||(n=!1)}return n},X=(0,i.useMemo)(()=>{let e=!!_&&!!t&&(c(h)?!A().isPaused()&&!s:h),n=()=>{let t=I(),n=g(t);return(delete n._k,e)?{isValidating:!0,isLoading:!0,...n}:n},r=n();return()=>{let e=n();return H(e,r)?r:r=e}},[r,_]),G=(0,a.useSyncExternalStore)((0,i.useCallback)(e=>U(_,(t,n)=>{H(t,n)||e()}),[r,_]),X,X),J=!S.current,$=G.data,Y=c($)?z:$,K=G.error,Q=(0,i.useRef)(Y),Z=y?c($)?Q.current:$:Y,ee=J&&!c(h)?h:!A().isPaused()&&(s?!c(Y)&&n.revalidateIfStale:c(Y)||n.revalidateIfStale),et=!!(_&&t&&J&&ee),ei=c(G.isValidating)?et:G.isValidating,ea=c(G.isLoading)?et:G.isLoading,el=(0,i.useCallback)(async e=>{let t,r;let i=T.current;if(!_||!i||O.current||A().isPaused())return!1;let a=!0,l=e||{},s=!E[_]||!l.dedupe,d=()=>C?!O.current&&_===k.current&&S.current:_===k.current,g={isValidating:!1,isLoading:!1},h=()=>{B(g)},p=()=>{let e=E[_];e&&e[1]===r&&delete E[_]},w={isValidating:!0};c(I().data)&&(w.isLoading=!0);try{if(s&&(B(w),n.loadingTimeout&&c(I().data)&&setTimeout(()=>{a&&d()&&A().onLoadingSlow(_,n)},n.loadingTimeout),E[_]=[i(j),F()]),[t,r]=E[_],t=await t,s&&setTimeout(p,n.dedupingInterval),!E[_]||E[_][1]!==r)return s&&d()&&A().onDiscarded(_),!1;g.error=u;let v=b[_];if(!c(v)&&(r<=v[0]||r<=v[1]||0===v[1]))return h(),s&&d()&&A().onDiscarded(_),!1;let m=I().data;g.data=o(m,t)?m:t,s&&d()&&A().onSuccess(t,_,n)}catch(R){p();let y=A(),{shouldRetryOnError:x}=y;!y.isPaused()&&(g.error=R,s&&d()&&(y.onError(R,_,y),(!0===x||f(x)&&x(R))&&D()&&y.onErrorRetry(R,_,y,el,{retryCount:(l.retryCount||0)+1,dedupe:!0})))}return a=!1,h(),!0},[_,r]),eo=(0,i.useCallback)((...e)=>M(r,k.current,...e),[]);if(V(()=>{T.current=t,N.current=n,c($)||(Q.current=$)}),V(()=>{if(!_)return;let e=el.bind(u,er),t=0,n=n=>{if(n==W.FOCUS_EVENT){let r=Date.now();A().revalidateOnFocus&&r>t&&D()&&(t=r+A().focusThrottleInterval,e())}else if(n==W.RECONNECT_EVENT)A().revalidateOnReconnect&&D()&&e();else if(n==W.MUTATE_EVENT)return el()},r=en(_,x,n);return O.current=!1,k.current=_,S.current=!0,B({_k:j}),ee&&(c(Y)||R?e():L(e)),()=>{O.current=!0,r()}},[_]),V(()=>{let e;function t(){let t=f(p)?p(Y):p;t&&-1!==e&&(e=setTimeout(n,t))}function n(){!I().error&&(w||A().isVisible())&&(v||A().isOnline())?el(er).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[p,w,v,_]),(0,i.useDebugValue)(Z),s&&c(Y)&&_){if(!C&&R)throw Error("Fallback data is required when using suspense in SSR.");throw T.current=t,N.current=n,O.current=!1,c(K)?el(er):K}return{mutate:eo,get data(){return q.data=!0,Z},get error(){return q.error=!0,K},get isValidating(){return q.isValidating=!0,ei},get isLoading(){return q.isLoading=!0,ea}}};d.defineProperty($,"defaultValue",{value:X});var ea=function(...e){let t=Z(),[n,r,i]=Q(e),a=G(t,i),l=ei,{use:o}=a,s=(o||[]).concat(et);for(let u=s.length;u--;)l=s[u](l);return l(n,r||a.fetcher||null,a)};let el=e=>{let{tabs:t,tabWidth:n}=e,[a,l]=(0,i.useState)(0);return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{display:"flex"},children:(0,r.jsx)("div",{style:{display:"flex",overflowX:"scroll"},className:"no-scroll-bar",children:t.map((e,t)=>(0,r.jsx)("div",{style:{minWidth:n,overflow:"hidden",color:a===t?"white":"",textAlign:"center",fontSize:12,padding:4,backgroundColor:a===t?"#000000":"white",border:"1px solid #999999",cursor:"pointer"},onClick:()=>{console.log(t),l(t)},children:e.title}))})}),(0,r.jsx)("div",{children:t.map((e,t)=>(0,r.jsx)("div",{style:{display:a===t?"":"none"},children:e.component}))})]})};function eo(){let{data:e}=ea("league",async()=>await es()),t=e=>{let{league:t}=e,n=(0,i.useMemo)(()=>{let e={};return null==t||t.matches.forEach(t=>{Object.keys(t.teams).forEach(n=>{e[n]||(e[n]={win:0,lose:0}),t.finished&&(t.winner===n?e[n].win=e[n].win+1:e[n].lose=e[n].lose+1)})}),e},[t]);return t?(0,r.jsx)(r.Fragment,{children:t.teams.sort((e,t)=>n[t.id].win-n[t.id].lose-(n[e.id].win-n[e.id].lose)>0?1:-1).map((e,t)=>(0,r.jsxs)("div",{style:{border:"1.5px solid gold",borderRadius:10,margin:8,padding:8,backgroundColor:"black",color:"white"},children:[(0,r.jsxs)("div",{style:{display:"flex",marginBottom:4},children:[(0,r.jsx)("div",{style:{height:20,width:60,background:"linear-gradient(to right, #aa9d52, gold 80%)",clipPath:"polygon(0% 100%, 0% 0%, 100% 0%,85% 50%, 100% 100%)",color:"white",padding:"2px 4px",backgroundSize:"cover",border:"1px solid yellow"},children:t+1}),(0,r.jsx)("div",{style:{backgroundColor:"#333",borderRadius:10,border:"1px solid #555",width:"100%",padding:4},children:e.name})]}),(0,r.jsxs)("div",{style:{textAlign:"right",fontFamily:"Racing Sans One"},children:[(0,r.jsx)("span",{style:{color:"gold"},children:n[e.id].win}),"\xa0WIN \xa0",(0,r.jsx)("span",{style:{color:"gold"},children:n[e.id].lose}),"\xa0LOSE"]})]}))}):(0,r.jsx)(r.Fragment,{})},n=e=>{let{league:t}=e,n=(0,i.useCallback)(e=>Object.keys(e.teams).filter(t=>null!==e.teams[t].score),[]);return(0,r.jsx)(r.Fragment,{children:null==t?void 0:t.matches.map(e=>{let i;return(0,r.jsx)(r.Fragment,{children:n(e).length>0?(0,r.jsx)("div",{style:{border:"1.5px solid gold",borderRadius:10,margin:8,padding:8,backgroundColor:"black",color:"white",display:"flex"},children:(i=[],n(e).forEach((n,a)=>{var l;i.push((0,r.jsx)("div",{style:{width:"32vw",textAlign:"center"},children:null===(l=t.teams.find(e=>e.id===n))||void 0===l?void 0:l.name})),0===a&&i.push((0,r.jsx)("div",{style:{width:"32vw",textAlign:"center"},children:Object.values(e.teams).map(e=>e.score).join(" - ")}))}),i)}):(0,r.jsx)(r.Fragment,{})})})})};return(0,r.jsxs)("div",{style:{backgroundImage:"url(https://images.unsplash.com/photo-1475440197469-e367ec8eeb19?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1740&q=80)",height:"100vh"},children:[(0,r.jsxs)("div",{style:{fontSize:30,color:"white",textAlign:"center",padding:8},children:["蓋野球",(0,r.jsx)("span",{style:{color:"red",fontWeight:"bold"},children:"魂"}),"杯"]}),(0,r.jsx)(el,{tabs:[{title:"リーグA",component:(0,r.jsx)(el,{tabWidth:80,tabs:[{title:"順位",component:(0,r.jsx)(t,{league:null==e?void 0:e.dataA.pageProps.initialLeague})},{title:"試合結果",component:(0,r.jsx)(n,{league:null==e?void 0:e.dataA.pageProps.initialLeague})}]})},{title:"リーグB",component:(0,r.jsx)(el,{tabWidth:80,tabs:[{title:"順位",component:(0,r.jsx)(t,{league:null==e?void 0:e.dataB.pageProps.initialLeague})},{title:"試合結果",component:(0,r.jsx)(n,{league:null==e?void 0:e.dataB.pageProps.initialLeague})}]})},{title:"リーグC",component:(0,r.jsx)(el,{tabWidth:80,tabs:[{title:"順位",component:(0,r.jsx)(t,{league:null==e?void 0:e.dataC.pageProps.initialLeague})},{title:"試合結果",component:(0,r.jsx)(n,{league:null==e?void 0:e.dataC.pageProps.initialLeague})}]})}],tabWidth:"32vw"})]})}let es=async()=>{let e=await fetch("/api/league"),t=await e.json();return t}},3250:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(7294),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,l=r.useEffect,o=r.useLayoutEffect,s=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,d=r[1];return o(function(){i.value=n,i.getSnapshot=t,u(i)&&d({inst:i})},[e,n,t]),l(function(){return u(i)&&d({inst:i}),e(function(){u(i)&&d({inst:i})})},[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},1688:function(e,t,n){"use strict";e.exports=n(3250)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);